<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>常用的JS代码</title>
</head>
<body>

</body>
<script>
  const anagrams = str => {
    if (str.length <= 2) return str.length === 2 ? [str, str[1] + str [0]] : [str];
    return str.split('').reduce((acc, letter, i) =>
        acc.concat(anagrams(str.slice(0, i) + str.slice(i + 1)).map(value => letter + value)), [])
  };
  console.log(anagrams('abc'));

  const average = arr => arr.reduce((acc, val) => acc + val, 0) / arr.length;
  console.log(average([1, 2, 3]));

  const capitalize = str => str.replace(/\b[a-z]/g, char => char.toUpperCase());
  console.log(capitalize('hello world'));

  const palindrome = (str1, str2) => {
    return str2 === str1.split('').reverse().join('');
  };
  console.log(palindrome('abc', 'cba'));

  const countOccurrences = (arr, value) => arr.reduce((a, v) => v === value ? a + 1 : a + 0, 0);
  console.log(countOccurrences([1, 3, 1, 5, 1], 1));

  const currentUrl = _ => window.location.href;
  console.log(currentUrl());

  const curry = (fn, arity = fn.length, ...args) => arity <= args.length ? fn(...args) : curry.bind(null, fn, arity, ...args);
  console.log(curry(Math.max, 3)(1)(5)(8));
  console.log(curry(Math.pow)(2)(3));

  const deepFlatten = arr => arr.reduce((a, v) => a.concat((Array.isArray(v)) ? deepFlatten(v) : v), []);
  console.log(deepFlatten([1, [2], [[3], 4], 5, [6, [7]]]));

  const difference = (a, b) => {
    const set = new Set(b);
    return a.filter(x => !set.has(x));
  };
  console.log(difference([1, 2, 3], [3, 4]));

  const  distance = (x0, y0, x1, y1) => Math.hypot(x1 - x0, y1 - y0);
  console.log(distance(1, 1, 2, 2));

  const isDivisible = (dividend, divisor) => dividend % divisor === 0;
  console.log(isDivisible(4, 2));

  const factorial = n => n === 1 ? 1 : n * factorial(n - 1);
  console.log(factorial(5));

  const fibonacci = n => Array(n).fill(0).reduce((acc, val, i) => acc.concat(i > 1 ? acc[i - 1] + acc[i - 2] : i), []);
  console.log(fibonacci(5));

  const filterNonUnique = arr => arr.filter(i => arr.indexOf(i) === arr.lastIndexOf(i));
  console.log(filterNonUnique([1, 2, 2, 4, 5, 5, 7]));

  const arrayMax = arr => Math.max(...arr);
  console.log(arrayMax([1, 5, 15, 2]));

  const getScrollPos = (el = window) => ({
    x: (el.pageXOffset !== undefined) ? el.pageXOffset : el.scrollLeft,
    y: (el.pageYOffset !== undefined) ? el.pageYOffset : el.scrollTop
  });
  console.log(getScrollPos());

  const gcd = (x, y) => !y ? x : gcd(y, x % y);
  console.log(gcd(8, 36));

  const initialArrayRange = (end, start = 0) => Array.apply(null, Array(end - start)).map((v, i) => i + start);
  console.log(initialArrayRange(6));

  const objectFromPairs = arr => arr.reduce((a, v) => (a[v[0]] = v[1], a), {});
  console.log(objectFromPairs([["a", 1], ["b", 2], ["c", 3]]))

  const rgb2Hex = (r, g, b) => '#' + ((r << 16) + (g << 8) + b).toString(16).padStart(6, '0').toUpperCase();
  console.log(rgb2Hex(232, 154, 178));
</script>
</html>