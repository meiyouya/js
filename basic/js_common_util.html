<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>常用的JS代码</title>
</head>
<body>

</body>
<script>
  const anagrams = str => {
    if (str.length <= 2) return str.length === 2 ? [str, str[1] + str [0]] : [str];
    return str.split('').reduce((acc, letter, i) =>
        acc.concat(anagrams(str.slice(0, i) + str.slice(i + 1)).map(value => letter + value)), [])
  };
  console.log(anagrams('abc'));

  const average = arr => arr.reduce((acc, val) => acc + val, 0) / arr.length;
  console.log(average([1, 2, 3]));

  const capitalize = str => str.replace(/\b[a-z]/g, char => char.toUpperCase());
  console.log(capitalize('hello world'));

  const palindrome = (str1, str2) => {
    return str2 === str1.split('').reverse().join('');
  };
  console.log(palindrome('abc', 'cba'));

  const countOccurrences = (arr, value) => arr.reduce((a, v) => v === value ? a + 1 : a + 0, 0);
  console.log(countOccurrences([1, 3, 1, 5, 1], 1));

  const currentUrl = _ => window.location.href;
  console.log(currentUrl());

  const curry = (fn, arity = fn.length, ...args) => arity <= args.length ? fn(...args) : curry.bind(null, fn, arity, ...args);
  console.log(curry(Math.max, 3)(1)(5)(8));
  console.log(curry(Math.pow)(2)(3));

  const deepFlatten = arr => arr.reduce((a, v) => a.concat((Array.isArray(v)) ? deepFlatten(v) : v), []);
  console.log(deepFlatten([1, [2], [[3], 4], 5, [6, [7]]]));

  const difference = (a, b) => {
    const set = new Set(b);
    return a.filter(x => !set.has(x));
  };
  console.log(difference([1, 2, 3], [3, 4]));
</script>
</html>